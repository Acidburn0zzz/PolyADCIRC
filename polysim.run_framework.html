<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>polysim.run_framework package &mdash; PolySim 1.2.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PolySim 1.2.1 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">PolySim 1.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="polysim-run-framework-package">
<h1>polysim.run_framework package<a class="headerlink" href="#polysim-run-framework-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-polysim.run_framework.adaptive_sampling">
<span id="polysim-run-framework-adaptive-sampling-module"></span><h2>polysim.run_framework.adaptive_sampling module<a class="headerlink" href="#module-polysim.run_framework.adaptive_sampling" title="Permalink to this headline">¶</a></h2>
<p>This modules contains functions for adaptive random sampling. We assume we are
given access to a model, a parameter space, and a data space. The model is a
map from the paramter space to the data space. We desire to build up a set of
samples to solve an inverse problem thus giving us information about the
inverse mapping. The each sample consists of a parameter coordinate, data
coordinate pairing. We assume we are given a measure on both spaces.</p>
<p>We employ an approach based on using multiple sample chains in a MCMC type
approach.</p>
<dl class="class">
<dt id="polysim.run_framework.adaptive_sampling.adaptiveSamples">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">adaptiveSamples</tt><big>(</big><em>num_batches</em>, <em>samples_per_batch</em>, <em>model</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.adaptiveSamples" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p>This class provides methods for adaptive sampling of parameter space to
provide samples to be used by algorithms to solve inverse problems.</p>
<dl class="docutils">
<dt>num_batches</dt>
<dd>number of batches of samples</dd>
<dt>samples_per_batch</dt>
<dd>number of samples per batch (either a single int or a list of int)</dd>
<dt>metric</dt>
<dd>metric on the data space, a function d(x,y) where d: M x M &#8211;&gt; Real</dd>
<dt>model</dt>
<dd>runs the model at a given set of parameter samples and returns data</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.adaptiveSamples.generalized_chains">
<tt class="descname">generalized_chains</tt><big>(</big><em>inital_sample_type</em>, <em>param_min</em>, <em>param_max</em>, <em>t_kernel</em>, <em>heuristic</em>, <em>savefile</em>, <em>criterion='center'</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.adaptiveSamples.generalized_chains" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic adaptive sampling algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inital_sample_type</strong> (<em>string</em>) &#8211; type of initial sample random (or r),
latin hypercube(lhs), or space-filling curve(TBD)</li>
<li><strong>param_min</strong> (<em>np.array (ndim,)</em>) &#8211; minimum value for each parameter dimension</li>
<li><strong>param_max</strong> (<em>np.array (ndim,)</em>) &#8211; maximum value for each parameter dimension</li>
<li><strong>t_kernel</strong> (<em>:class:~`t_kernel`</em>) &#8211; method for creating new parameter steps using
given a step size based on the paramter domain size</li>
<li><strong>heuristic</strong> (<em>function</em>) &#8211; functional that acts on the data used to
determine the proposed change to the <tt class="docutils literal"><span class="pre">step_size</span></tt></li>
<li><strong>savefile</strong> (<em>string</em>) &#8211; filename to save samples and data</li>
<li><strong>criterion</strong> (<em>string</em>) &#8211; latin hypercube criterion see 
<a class="reference external" href="http://pythonhosted.org/pyDOE/randomized.html">PyDOE</a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(<tt class="docutils literal"><span class="pre">parameter_samples</span></tt>, <tt class="docutils literal"><span class="pre">data_samples</span></tt>) where
<tt class="docutils literal"><span class="pre">parameter_samples</span></tt> is np.ndarray of shape (ndim, num_samples)
and <tt class="docutils literal"><span class="pre">data_samples</span></tt> is np.ndarray of shape (num_samples, mdim)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.adaptiveSamples.reseed_chains">
<tt class="descname">reseed_chains</tt><big>(</big><em>inital_sample_type</em>, <em>param_min</em>, <em>param_max</em>, <em>t_kernel</em>, <em>heuristic</em>, <em>savefile</em>, <em>criterion='center'</em>, <em>reseed=1</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.adaptiveSamples.reseed_chains" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic adaptive sampling algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inital_sample_type</strong> (<em>string</em>) &#8211; type of initial sample random (or r),
latin hypercube(lhs), or space-filling curve(TBD)</li>
<li><strong>param_min</strong> (<em>np.array (ndim,)</em>) &#8211; minimum value for each parameter dimension</li>
<li><strong>param_max</strong> (<em>np.array (ndim,)</em>) &#8211; maximum value for each parameter dimension</li>
<li><strong>t_kernel</strong> (<em>:class:~`t_kernel`</em>) &#8211; method for creating new parameter steps using
given a step size based on the paramter domain size</li>
<li><strong>heuristic</strong> (<em>function</em>) &#8211; functional that acts on the data used to
determine the proposed change to the <tt class="docutils literal"><span class="pre">step_size</span></tt></li>
<li><strong>savefile</strong> (<em>string</em>) &#8211; filename to save samples and data</li>
<li><strong>criterion</strong> (<em>string</em>) &#8211; <p>latin hypercube criterion see 
<a class="reference external" href="http://pythonhosted.org/pyDOE/randomized.html">PyDOE</a></p>
</li>
<li><strong>reseed</strong> (<em>int</em>) &#8211; number of times to reseed the chains</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(<tt class="docutils literal"><span class="pre">parameter_samples</span></tt>, <tt class="docutils literal"><span class="pre">data_samples</span></tt>) where
<tt class="docutils literal"><span class="pre">parameter_samples</span></tt> is np.ndarray of shape (ndim, num_samples)
and <tt class="docutils literal"><span class="pre">data_samples</span></tt> is np.ndarray of shape (num_samples, mdim)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.adaptiveSamples.save">
<tt class="descname">save</tt><big>(</big><em>mdict</em>, <em>save_file</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.adaptiveSamples.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save matrices to a <tt class="docutils literal"><span class="pre">*.mat</span></tt> file for use by <tt class="docutils literal"><span class="pre">MATLAB</span> <span class="pre">BET</span></tt> code and
<a class="reference internal" href="#polysim.run_framework.adaptive_sampling.loadmat" title="polysim.run_framework.adaptive_sampling.loadmat"><tt class="xref py py-meth docutils literal"><span class="pre">loadmat()</span></tt></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mdict</strong> (<em>dict()</em>) &#8211; dictonary of sampling data and sampler parameters</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; file name</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.adaptiveSamples.show_data_2D">
<tt class="descname">show_data_2D</tt><big>(</big><em>data</em>, <em>rho_D=None</em>, <em>Q_true=None</em>, <em>sample_nos=None</em>, <em>save=True</em>, <em>show=True</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.adaptiveSamples.show_data_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot samples in data space and colors them either by rho_D or by
sample batch number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; Data associated with <tt class="docutils literal"><span class="pre">samples</span></tt></li>
<li><strong>sample_nos</strong> (<em>list</em>) &#8211; sample numbers to plot</li>
<li><strong>rho_D</strong> (callable function that takes a <tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> and returns a
<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; probability density on D</li>
<li><strong>Q_true</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; true parameter value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.adaptiveSamples.show_param_2D">
<tt class="descname">show_param_2D</tt><big>(</big><em>samples</em>, <em>data</em>, <em>rho_D=None</em>, <em>p_true=None</em>, <em>sample_nos=None</em>, <em>save=True</em>, <em>show=True</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.adaptiveSamples.show_param_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot samples in parameter space and colors them either by rho_D or by
sample batch number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>samples</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; Samples to plot</li>
<li><strong>data</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; Data associated with <tt class="docutils literal"><span class="pre">samples</span></tt></li>
<li><strong>sample_nos</strong> (<em>list</em>) &#8211; sample numbers to plot</li>
<li><strong>rho_D</strong> (callable function that takes a <tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> and returns a
<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; probability density on D</li>
<li><strong>p_true</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; true parameter value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.adaptiveSamples.update_mdict">
<tt class="descname">update_mdict</tt><big>(</big><em>mdict</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.adaptiveSamples.update_mdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up references for <tt class="docutils literal"><span class="pre">mdict</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mdict</strong> (<em>dict()</em>) &#8211; dictonary of sampler parameters</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.adaptive_sampling.heuristic">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">heuristic</tt><big>(</big><em>tolerance=1e-08</em>, <em>increase=1.0</em>, <em>decrease=1.0</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.heuristic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p>Parent class for heuristics to determine change in step size. This class
provides a method for determining the proposed change in step size. Since
this is simply a skeleton parent class it does not change the step size at
all.</p>
<dl class="docutils">
<dt>tolerance</dt>
<dd>a tolerance used to determine if two different values are close</dd>
<dt>increase</dt>
<dd>the multiple to increase the step size by</dd>
<dt>decrease</dt>
<dd>the multiple to decrease the step size by</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.heuristic.delta_step">
<tt class="descname">delta_step</tt><big>(</big><em>data_new</em>, <em>heur_old=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.heuristic.delta_step" title="Permalink to this definition">¶</a></dt>
<dd><p>This method determines the proposed change in step size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_new</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of shape (samples_per_batch, mdim)) &#8211; QoI for a given batch of samples</li>
<li><strong>heur_old</strong> &#8211; heuristic evaluated at previous step</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">typle</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(heur_new, proposal)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.adaptive_sampling.in_box">
<tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">in_box</tt><big>(</big><em>data</em>, <em>rho_D</em>, <em>maximum</em>, <em>sample_nos=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.in_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the number of samples in high probability regions of D.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; Data associated with <tt class="docutils literal"><span class="pre">samples</span></tt></li>
<li><strong>rho_D</strong> (callable function that takes a <tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> and returns a
<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; probability density on D</li>
<li><strong>sample_nos</strong> (<em>list</em>) &#8211; sample numbers to plot</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.adaptive_sampling.in_box_many">
<tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">in_box_many</tt><big>(</big><em>results_list</em>, <em>rho_D</em>, <em>maximum</em>, <em>sample_nos_list=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.in_box_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the number of samples in high probability regions of D for a list of results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>results_list</strong> (<em>list</em>) &#8211; list of (results, data) tuples</li>
<li><strong>rho_D</strong> (callable function that takes a <tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> and returns a
<tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>) &#8211; probability density on D</li>
<li><strong>sample_nos_list</strong> (<em>list</em>) &#8211; list of sample numbers to plot (list of lists)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.adaptive_sampling.loadmat">
<tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">loadmat</tt><big>(</big><em>save_file</em>, <em>model=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.loadmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from <tt class="docutils literal"><span class="pre">save_file</span></tt> into a
<tt class="xref py py-class docutils literal"><span class="pre">adaptiveSamples</span></tt> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>save_file</strong> (<em>string</em>) &#8211; file name</li>
<li><strong>model</strong> &#8211; runs the model at a given set of parameter samples and returns data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(sampler, samples, data)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.adaptive_sampling.maxima_heuristic">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">maxima_heuristic</tt><big>(</big><em>maxima</em>, <em>rho_D</em>, <em>tolerance=1e-08</em>, <em>increase=2.0</em>, <em>decrease=0.5</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.maxima_heuristic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p>We assume we know the maxima of the distribution rho_D on the QoI and that
the goal is to determine inverse regions of high probability accurately (in
terms of getting the measure correct). This class provides a method for
determining the proposed change in step size as follows. We check if the
QoI at each of the samples_new(k) are closer or farther away from a region
of high probability in D than the QoI at samples_old(k). For example, if
they are closer, then we can reduce the step_size(k) by 1/2.</p>
<dl class="docutils">
<dt>maxima</dt>
<dd>locations of the maxima of rho_D on D
np.array of shape (num_maxima, mdim)</dd>
<dt>rho_max</dt>
<dd>rho_D(maxima), list of maximum values of rho_D</dd>
<dt>tolerance </dt>
<dd>a tolerance used to determine if two different values are close</dd>
<dt>increase</dt>
<dd>the multiple to increase the step size by</dd>
<dt>decrease</dt>
<dd>the multiple to decrease the step size by</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.maxima_heuristic.delta_step">
<tt class="descname">delta_step</tt><big>(</big><em>data_new</em>, <em>heur_old=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.maxima_heuristic.delta_step" title="Permalink to this definition">¶</a></dt>
<dd><p>This method determines the proposed change in step size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_new</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of shape (samples_per_batch, mdim)) &#8211; QoI for a given batch of samples</li>
<li><strong>heur_old</strong> &#8211; heuristic evaluated at previous step</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(heur_new, proposal)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.adaptive_sampling.maxima_mean_heuristic">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">maxima_mean_heuristic</tt><big>(</big><em>maxima</em>, <em>rho_D</em>, <em>tolerance=1e-08</em>, <em>increase=2.0</em>, <em>decrease=0.5</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.maxima_mean_heuristic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p>We assume we know the maxima of the distribution rho_D on the QoI and that
the goal is to determine inverse regions of high probability accurately (in
terms of getting the measure correct). This class provides a method for
determining the proposed change in step size as follows. We check if the
QoI at each of the samples_new(k) are closer or farther away from a region
of high probability in D than the QoI at samples_old(k). For example, if
they are closer, then we can reduce the step_size(k) by 1/2.</p>
<dl class="docutils">
<dt>maxima</dt>
<dd>locations of the maxima of rho_D on D
np.array of shape (num_maxima, mdim)</dd>
<dt>rho_max</dt>
<dd>rho_D(maxima), list of maximum values of rho_D</dd>
<dt>tolerance </dt>
<dd>a tolerance used to determine if two different values are close</dd>
<dt>increase</dt>
<dd>the multiple to increase the step size by</dd>
<dt>decrease</dt>
<dd>the multiple to decrease the step size by</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.maxima_mean_heuristic.delta_step">
<tt class="descname">delta_step</tt><big>(</big><em>data_new</em>, <em>heur_old=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.maxima_mean_heuristic.delta_step" title="Permalink to this definition">¶</a></dt>
<dd><p>This method determines the proposed change in step size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_new</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of shape (samples_per_batch, mdim)) &#8211; QoI for a given batch of samples</li>
<li><strong>heur_old</strong> &#8211; heuristic evaluated at previous step</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(heur_new, proposal)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.maxima_mean_heuristic.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.maxima_mean_heuristic.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the the batch number and the estimates of the mean and maximum
distance from the mean.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.adaptive_sampling.multi_dist_heuristic">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">multi_dist_heuristic</tt><big>(</big><em>tolerance=1e-08</em>, <em>increase=2.0</em>, <em>decrease=0.5</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.multi_dist_heuristic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p>The goal is to make a sampling that is robust to different types of
distributions on QoI, i.e., we do not know a priori where the regions of
high probability are in D. This class provides a method for determining the
proposed step size as follows. We keep track of the change of the QoI
values from one sample to the next compared to the total range of QoI
values explored so far. If a big relative change is detected, then you know
that you have come across a region with larger derivatives and you should
place more samples around there to resolve the induced regions of
generalized contours, i.e., reduce the step size. If the change in QoI
values is relatively small, you are in a region where there is little
sensitivity, so take larger step sizes.</p>
<dl class="docutils">
<dt>radius</dt>
<dd>current estimate of the radius of D (1/2 the diameter of D)</dd>
<dt>mean</dt>
<dd>current estimate of the mean QoI</dd>
<dt>batch_num</dt>
<dd>current batch number</dd>
<dt>TOL </dt>
<dd>a tolerance used to determine if two different values are close</dd>
<dt>increase</dt>
<dd>the multiple to increase the step size by</dd>
<dt>decrease</dt>
<dd>the multiple to decrease the step size by</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.multi_dist_heuristic.delta_step">
<tt class="descname">delta_step</tt><big>(</big><em>data_new</em>, <em>heur_old=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.multi_dist_heuristic.delta_step" title="Permalink to this definition">¶</a></dt>
<dd><p>This method determines the proposed change in step size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_new</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of shape (samples_per_batch, mdim)) &#8211; QoI for a given batch of samples</li>
<li><strong>heur_old</strong> &#8211; QoI evaluated at previous step</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(heur_new, proposal)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.multi_dist_heuristic.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.multi_dist_heuristic.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the the batch number and the estimates of the mean and maximum
distance from the mean.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.adaptive_sampling.rhoD_heuristic">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">rhoD_heuristic</tt><big>(</big><em>maximum</em>, <em>rho_D</em>, <em>tolerance=1e-08</em>, <em>increase=2.0</em>, <em>decrease=0.5</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.rhoD_heuristic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#polysim.run_framework.adaptive_sampling.heuristic" title="polysim.run_framework.adaptive_sampling.heuristic"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.adaptive_sampling.heuristic</span></tt></a></p>
<p>We assume we know the distribution rho_D on the QoI and that the goal is to
determine inverse regions of high probability accurately (in terms of
getting the measure correct). This class provides a method for determining
the proposed change in step size as follows. We check if the QoI at each of
the samples_new(k) are closer or farther away from a region of high
probability in D than the QoI at samples_old(k).  For example, if they are
closer, then we can reduce the step_size(k) by 1/2.</p>
<p>Note: This only works well with smooth rho_D.</p>
<dl class="docutils">
<dt>maximum</dt>
<dd>maximum value of rho_D on D</dd>
<dt>rho_D</dt>
<dd>probability density on D</dd>
<dt>tolerance </dt>
<dd>a tolerance used to determine if two different values are close</dd>
<dt>increase</dt>
<dd>the multiple to increase the step size by</dd>
<dt>decrease</dt>
<dd>the multiple to decrease the step size by</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.rhoD_heuristic.delta_step">
<tt class="descname">delta_step</tt><big>(</big><em>data_new</em>, <em>heur_old=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.rhoD_heuristic.delta_step" title="Permalink to this definition">¶</a></dt>
<dd><p>This method determines the proposed change in step size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_new</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of shape (samples_per_batch, mdim)) &#8211; QoI for a given batch of samples</li>
<li><strong>heur_old</strong> &#8211; heuristic evaluated at previous step</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(heur_new, proposal)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.adaptive_sampling.transition_kernel">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.adaptive_sampling.</tt><tt class="descname">transition_kernel</tt><big>(</big><em>init_ratio</em>, <em>min_ratio</em>, <em>max_ratio</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.transition_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p>Basic class that is used to create a step to move from samples_old to
samples_new based. This class generates steps for a random walk using a
very basic algorithm. Future classes will inherit from this one with
different implementations of the
:meth:~`polysim.run_framework.apdative_sampling.step` method.</p>
<p>This basic transition kernel is designed without a preferential direction.</p>
<dl class="docutils">
<dt>init_ratio</dt>
<dd>Initial step size ratio compared to the parameter domain.</dd>
<dt>min_ratio</dt>
<dd>Minimum step size compared to the inital step size.</dd>
<dt>max_ratio</dt>
<dd>Maximum step size compared to the maximum step size.</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.adaptive_sampling.transition_kernel.step">
<tt class="descname">step</tt><big>(</big><em>step_ratio</em>, <em>param_width</em>, <em>param_left</em>, <em>param_right</em>, <em>samples_old</em><big>)</big><a class="headerlink" href="#polysim.run_framework.adaptive_sampling.transition_kernel.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate <tt class="docutils literal"><span class="pre">num_samples</span></tt> new steps using <tt class="docutils literal"><span class="pre">step_ratio</span></tt> and
<tt class="docutils literal"><span class="pre">param_width</span></tt> to calculate the <tt class="docutils literal"><span class="pre">step</span> <span class="pre">size</span></tt>. Each step will have a
random direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>step_ratio</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of shape (num_samples,)) &#8211; define maximum step_size = <tt class="docutils literal"><span class="pre">step_ratio*param_width</span></tt></li>
<li><strong>param_width</strong> (<em>np.array (ndim,)</em>) &#8211; width of the parameter domain</li>
<li><strong>samples_old</strong> (<tt class="xref py py-class docutils literal"><span class="pre">ndarray</span></tt> of shape (ndim, num_samples)) &#8211; Parameter samples from the previous step.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of shape (ndim, num_samples)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">samples_new</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polysim.run_framework.domain">
<span id="polysim-run-framework-domain-module"></span><h2>polysim.run_framework.domain module<a class="headerlink" href="#module-polysim.run_framework.domain" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="#polysim.run_framework.domain.domain" title="polysim.run_framework.domain.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></p>
<dl class="function">
<dt id="polysim.run_framework.domain.adjust_factor">
<tt class="descclassname">polysim.run_framework.domain.</tt><tt class="descname">adjust_factor</tt><big>(</big><em>x</em>, <em>x_lims</em>, <em>b_lims=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.adjust_factor" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) &#8211; current x value</li>
<li><strong>x_lims</strong> (<em>float</em>) &#8211; box of x values to adjust</li>
<li><strong>b_lims</strong> (<em>float</em>) &#8211; bathy adj at x_lims</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">float</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">b = bathy adjustment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.domain.domain">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.domain.</tt><tt class="descname">domain</tt><big>(</big><em>path</em>, <em>node_num=0</em>, <em>element_num=0</em>, <em>node=None</em>, <em>element=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p><a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a> 
Objects of this class contain all the data needed by
<a class="reference internal" href="#module-polysim.run_framework.random_manningsn" title="polysim.run_framework.random_manningsn"><tt class="xref py py-class docutils literal"><span class="pre">random_manningsn</span></tt></a>
and <a class="reference internal" href="polysim.pyADCIRC.html#module-polysim.pyADCIRC.plotADCIRC" title="polysim.pyADCIRC.plotADCIRC"><tt class="xref py py-class docutils literal"><span class="pre">plotADCIRC</span></tt></a> for particular mesh(s) or grid(s)</p>
<dl class="docutils">
<dt>path</dt>
<dd>full path to the directory containing the <tt class="docutils literal"><span class="pre">fort.##</span></tt> files for this
particular mesh(s) or grid(s)</dd>
<dt>node_num</dt>
<dd>number of nodes</dd>
<dt>element_num</dt>
<dd>number of elements</dd>
<dt>node</dt>
<dd>list of nodes</dd>
<dt>element</dt>
<dd>list of elements where each element is a list of nodes</dd>
<dt>manningsn_default</dt>
<dd>default Manning&#8217;s <em>n</em> value</dd>
<dt>manningsn_num</dt>
<dd>number of non-default nodes</dd>
<dt>time</dt>
<dd>instance of <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.time" title="polysim.pyADCIRC.basic.time"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> class</dd>
<dt>make_domain_map</dt>
<dd>(boolean) whether or not a domain map has been created</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.domain.domain.add_wall">
<tt class="descname">add_wall</tt><big>(</big><em>box_limits</em>, <em>wall_height=-2</em>, <em>path=None</em>, <em>plot=False</em>, <em>save=False</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.add_wall" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>string or None</em>) &#8211; directory containing the <tt class="docutils literal"><span class="pre">fort.14</span></tt> to be adjusted</li>
<li><strong>box_limits</strong> &#8211; [xmin, xmax, ymin, ymax]</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>adds a land wall of default 2 m in area defined by box_limits</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.adjust">
<tt class="descname">adjust</tt><big>(</big><em>x_lims=None</em>, <em>b_lims=None</em>, <em>path=None</em>, <em>plot=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.adjust" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a bathymetry between x-locations defined by <tt class="docutils literal"><span class="pre">x_lims</span></tt> with
bathymetry linearly interpolated between <tt class="docutils literal"><span class="pre">b_lims</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x_lims</strong> (<em>list()</em>) &#8211; [x_min, x_max]</li>
<li><strong>b_lims</strong> (<em>list()</em>) &#8211; [b_min, b_max]</li>
<li><strong>path</strong> (<em>string or None</em>) &#8211; directory containing the <tt class="docutils literal"><span class="pre">fort.14</span></tt> to be adjusted</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.array_bathymetry">
<tt class="descname">array_bathymetry</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.array_bathymetry" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size(1, node_num)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">array containing the bathymetry at all nodes in numerical</td>
</tr>
</tbody>
</table>
<p>order</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.array_manningsn">
<tt class="descname">array_manningsn</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.array_manningsn" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size(1, node_num)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">array of containing the Manning&#8217;s <em>n</em> value at all nodes in
numerical order</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.array_x">
<tt class="descname">array_x</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.array_x" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size(1, node_num)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">array containing the x locations at all nodes in numerical
order</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.array_y">
<tt class="descname">array_y</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.array_y" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size(1, node_num)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">array containing the y locations at all nodes in numerical
order</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.dict_bathymetry">
<tt class="descname">dict_bathymetry</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.dict_bathymetry" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">key</span></tt> &#8211; node number, <tt class="docutils literal"><span class="pre">value</span></tt> &#8211; bathymetry</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.dict_manningsn">
<tt class="descname">dict_manningsn</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.dict_manningsn" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">key</span></tt> &#8211; node number, <tt class="docutils literal"><span class="pre">value</span></tt> &#8211; manningsn</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.domain.domain.element">
<tt class="descname">element</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.domain.domain.element" title="Permalink to this definition">¶</a></dt>
<dd><p>list(), list of elements where each element is a list of nodes</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.domain.domain.element_num">
<tt class="descname">element_num</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.domain.domain.element_num" title="Permalink to this definition">¶</a></dt>
<dd><p>int, number of elements</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.get_Triangulation">
<tt class="descname">get_Triangulation</tt><big>(</big><em>path=None</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.get_Triangulation" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">figs/</span></tt> folder</li>
<li><strong>save</strong> (<em>boolean</em>) &#8211; flag</li>
<li><strong>show</strong> (<em>boolean</em>) &#8211; flag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">See <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.plotADCIRC.get_Triangulation" title="polysim.pyADCIRC.plotADCIRC.get_Triangulation"><tt class="xref py py-meth docutils literal"><span class="pre">get_Triangulation()</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.domain.domain.make_domain_map">
<tt class="descname">make_domain_map</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.domain.domain.make_domain_map" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean, whether or not a domain map has been created</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.make_node_to_element_map">
<tt class="descname">make_node_to_element_map</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.make_node_to_element_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the node to element map</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.domain.domain.node">
<tt class="descname">node</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.domain.domain.node" title="Permalink to this definition">¶</a></dt>
<dd><p>list(), list of nodes</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.domain.domain.node_num">
<tt class="descname">node_num</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.domain.domain.node_num" title="Permalink to this definition">¶</a></dt>
<dd><p>int, number of nodes</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.domain.domain.path">
<tt class="descname">path</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.domain.domain.path" title="Permalink to this definition">¶</a></dt>
<dd><p>string, full path to the dir containing the <tt class="docutils literal"><span class="pre">fort.##</span></tt> files for mesh</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.plot_bathymetry">
<tt class="descname">plot_bathymetry</tt><big>(</big><em>path=None</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.plot_bathymetry" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">figs/</span></tt> folder</li>
<li><strong>save</strong> (<em>boolean</em>) &#8211; flag</li>
<li><strong>show</strong> (<em>boolean</em>) &#8211; flag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">See <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.plotADCIRC.bathymetry" title="polysim.pyADCIRC.plotADCIRC.bathymetry"><tt class="xref py py-meth docutils literal"><span class="pre">bathymetry()</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.plot_station_locations">
<tt class="descname">plot_station_locations</tt><big>(</big><em>path=None</em>, <em>bathymetry=False</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.plot_station_locations" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">figs/</span></tt> folder</li>
<li><strong>bathymetry</strong> (<em>boolean</em>) &#8211; flag whether or not to plot bathymetry in the background</li>
<li><strong>save</strong> (<em>boolean</em>) &#8211; flag</li>
<li><strong>show</strong> (<em>boolean</em>) &#8211; flag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">See <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.plotADCIRC.station_locations" title="polysim.pyADCIRC.plotADCIRC.station_locations"><tt class="xref py py-meth docutils literal"><span class="pre">station_locations()</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.read_default">
<tt class="descname">read_default</tt><big>(</big><em>path=None</em>, <em>file_name='fort.13'</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.read_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in default nodal value from a <tt class="docutils literal"><span class="pre">*.13</span></tt> file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string or None</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">fort.13</span></tt> formatted file</li>
<li><strong>file_name</strong> (<em>string</em>) &#8211; <tt class="docutils literal"><span class="pre">fort.13</span></tt> formatted file name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">See <tt class="xref py py-meth docutils literal"><span class="pre">read_default()</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.read_nodal_attr">
<tt class="descname">read_nodal_attr</tt><big>(</big><em>path=None</em>, <em>file_name='fort.13'</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.read_nodal_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Load in nodal attributes from a <tt class="docutils literal"><span class="pre">*.13</span></tt> file (only does Manning&#8217;s <em>n</em>
for now) and return a dictonary (like a MATLAB struct) with these
attributes).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string or None</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">fort.13</span></tt> formatted file</li>
<li><strong>file_name</strong> (<em>string</em>) &#8211; <tt class="docutils literal"><span class="pre">fort.13</span></tt> formatted file name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">See <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.fort13_management.read_nodal_attr" title="polysim.pyADCIRC.fort13_management.read_nodal_attr"><tt class="xref py py-meth docutils literal"><span class="pre">read_nodal_attr()</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.read_recording_data">
<tt class="descname">read_recording_data</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.read_recording_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in recording information from <tt class="docutils literal"><span class="pre">fort.15</span></tt> in self.path</p>
<p>See <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.fort15_management.read_recording_data" title="polysim.pyADCIRC.fort15_management.read_recording_data"><tt class="xref py py-meth docutils literal"><span class="pre">polysim.pyADCIRC.fort15_management.read_recording_data()</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.read_spatial_grid">
<tt class="descname">read_spatial_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.read_spatial_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in spatial grid from <tt class="docutils literal"><span class="pre">fort.14</span></tt> file in self.path</p>
<p>See <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.fort14_management.read_spatial_grid" title="polysim.pyADCIRC.fort14_management.read_spatial_grid"><tt class="xref py py-meth docutils literal"><span class="pre">polysim.pyADCIRC.fort14_management.read_spatial_grid()</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.run">
<tt class="descname">run</tt><big>(</big><em>num_procs</em>, <em>base_dir</em>, <em>input_dir=None</em>, <em>global_dir=None</em>, <em>write_option=None</em>, <em>num_writers=None</em>, <em>LorS=None</em>, <em>R=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess and run ADCIRC on this domain</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a href="#id2"><span class="problematic" id="id3">`</span></a>Generic ADCIRC Command Line</p>
</div>
<p>Options&lt;<a class="reference external" href="http://adcirc.org/home/documentation/generic-adcirc-command-line-options/">http://adcirc.org/home/documentation/generic-adcirc-command-line-options/</a>&gt;`_</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_procs</strong> (<em>int</em>) &#8211; number of processors for this ADCIRC run</li>
<li><strong>base_dir</strong> (<em>string</em>) &#8211; directory containing the padcirc executables</li>
<li><strong>input_dir</strong> (<em>string</em>) &#8211; directory containing the input files</li>
<li><strong>global_dir</strong> (<em>string</em>) &#8211; directory to write fulldomain output files to</li>
<li><strong>write_option</strong> (<em>string</em>) &#8211; (optional) specifiy <tt class="docutils literal"><span class="pre">W</span></tt> or <tt class="docutils literal"><span class="pre">Ws</span></tt> flag</li>
<li><strong>num_writers</strong> (<em>int</em>) &#8211; number of MPI process to dedicate soley to the
task of writing ascii files</li>
<li><strong>LorS</strong> (<em>string</em>) &#8211; (optional) specify <tt class="docutils literal"><span class="pre">L</span></tt> or <tt class="docutils literal"><span class="pre">S</span></tt> flag</li>
<li><strong>R</strong> (<em>string</em>) &#8211; (optional) specify <tt class="docutils literal"><span class="pre">R</span></tt> flag</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.set_station_bathymetry">
<tt class="descname">set_station_bathymetry</tt><big>(</big><em>key='fort61'</em>, <em>method='linear'</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.set_station_bathymetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets they bathymetry for all stations by interpolating w.r.t. the nodal
locations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>string</em>) &#8211; key for domain.stations[key]</li>
<li><strong>method</strong> (<em>string</em>) &#8211; linear interpolation method see
<tt class="xref py py-meth docutils literal"><span class="pre">scipy.interpolate.griddata()</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.domain.domain.update">
<tt class="descname">update</tt><big>(</big><em>path=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.domain.domain.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the directory containing files for this domain to self.path</p>
<p>Reads in data from <tt class="docutils literal"><span class="pre">fort.14</span></tt> and <tt class="docutils literal"><span class="pre">fort.15</span></tt> files and updates self
accordingly</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string or None</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">fort.##</span></tt> files</td>
</tr>
</tbody>
</table>
<p>See <tt class="xref py py-meth docutils literal"><span class="pre">read_spatial_grid()</span></tt> 
See <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.fort15_management.read_recording_data" title="polysim.pyADCIRC.fort15_management.read_recording_data"><tt class="xref py py-meth docutils literal"><span class="pre">read_recording_data()</span></tt></a></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polysim.run_framework.fulldomain">
<span id="polysim-run-framework-fulldomain-module"></span><h2>polysim.run_framework.fulldomain module<a class="headerlink" href="#module-polysim.run_framework.fulldomain" title="Permalink to this headline">¶</a></h2>
<p>This module contains a set of methods and a class for interacting with NCSU
Subdomain Modeling Python code and associated files. The focus of this module
is the <a class="reference internal" href="#polysim.run_framework.fulldomain.fulldomain" title="polysim.run_framework.fulldomain.fulldomain"><tt class="xref py py-class docutils literal"><span class="pre">fulldomain</span></tt></a>.</p>
<dl class="class">
<dt id="polysim.run_framework.fulldomain.fulldomain">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.fulldomain.</tt><tt class="descname">fulldomain</tt><big>(</big><em>path</em>, <em>subdomains=None</em>, <em>node_num=0</em>, <em>element_num=0</em>, <em>node=None</em>, <em>element=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#polysim.run_framework.domain.domain" title="polysim.run_framework.domain.domain"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.domain.domain</span></tt></a></p>
<p>Objects of this class contain all the data needed by <tt class="xref py py-mod docutils literal"><span class="pre">py.genbcs</span></tt>,
<tt class="xref py py-mod docutils literal"><span class="pre">py.genfull</span></tt>, and <tt class="xref py py-mod docutils literal"><span class="pre">py.gensub</span></tt> for a particular full domain
mesh/grid. References to <a class="reference internal" href="#module-polysim.run_framework.subdomain" title="polysim.run_framework.subdomain"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.subdomain</span></tt></a> objects
are also contained in an instantiation of this class.</p>
<dl class="method">
<dt id="polysim.run_framework.fulldomain.fulldomain.add_subdomain">
<tt class="descname">add_subdomain</tt><big>(</big><em>subdomain</em><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain.add_subdomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds subdomain to self.subdomains.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>subdomain</strong> (<a class="reference internal" href="#module-polysim.run_framework.subdomain" title="polysim.run_framework.subdomain"><tt class="xref py py-class docutils literal"><span class="pre">subdomain</span></tt></a>) &#8211; subdomain within this domain</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.fulldomain.fulldomain.check_fulldomain">
<tt class="descname">check_fulldomain</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain.check_fulldomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if the <tt class="docutils literal"><span class="pre">fort.06*</span></tt> and <tt class="docutils literal"><span class="pre">PE*/fort.065</span></tt> files exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">False if the <tt class="docutils literal"><span class="pre">fort.06*</span></tt> files don&#8217;t exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.fulldomain.fulldomain.check_subdomains">
<tt class="descname">check_subdomains</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain.check_subdomains" title="Permalink to this definition">¶</a></dt>
<dd><p>Check all the subdomains to make sure the <tt class="docutils literal"><span class="pre">fort.019</span></tt> file exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">False if <tt class="docutils literal"><span class="pre">fort.019</span></tt> is missing from at least one of the
subdomains</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.fulldomain.fulldomain.genbcss">
<tt class="descname">genbcss</tt><big>(</big><em>forcing_freq=None</em>, <em>dt=None</em>, <em>nspoolgs=None</em>, <em>h0=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain.genbcss" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the <tt class="docutils literal"><span class="pre">fort.019</span></tt> files for the subdomains. This requires the
presence of the output files from a fulldomain run, <tt class="docutils literal"><span class="pre">fort.06*</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>forcing_freq</strong> (<em>list()</em>) &#8211; number of timesteps at which infomration
is written to a boudnary conditions file (<tt class="docutils literal"><span class="pre">fort.019</span></tt>)</li>
<li><strong>dt</strong> (<em>list()</em>) &#8211; One timestep in seconds</li>
<li><strong>nspoolgs</strong> (<em>list()</em>) &#8211; the number of timesteps at which information is
written to the new output files <tt class="docutils literal"><span class="pre">fort.06*</span></tt></li>
<li><strong>h0</strong> (<em>list()</em>) &#8211; minimum water depth for a node to be wet</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list()</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">command lines for invoking genbcs.py</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.fulldomain.fulldomain.genfull">
<tt class="descname">genfull</tt><big>(</big><em>noutgs=1</em>, <em>nspoolgs=1</em>, <em>subdomains=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain.genfull" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the full domain control file, <tt class="docutils literal"><span class="pre">fort.015</span></tt>, and save it to
<tt class="docutils literal"><span class="pre">self.path</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>noutgs</strong> (<em>int</em>) &#8211; flag controlling whether or not <tt class="docutils literal"><span class="pre">fort.06*</span></tt> will be
written out</li>
<li><strong>nspoolgs</strong> (<em>int</em>) &#8211; the number of timesteps at which information is
written to the new output files <tt class="docutils literal"><span class="pre">fort.06*</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">command line for invoking genfull.py</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.fulldomain.fulldomain.setup_all">
<tt class="descname">setup_all</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain.setup_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up all of the subdomains</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.fulldomain.fulldomain.update_subdomains">
<tt class="descname">update_subdomains</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.fulldomain.fulldomain.update_subdomains" title="Permalink to this definition">¶</a></dt>
<dd><p>Update relational references between fulldomain and it&#8217;s subdomains by
setting subdomain.fulldomain = self</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polysim.run_framework.random_manningsn">
<span id="polysim-run-framework-random-manningsn-module"></span><h2>polysim.run_framework.random_manningsn module<a class="headerlink" href="#module-polysim.run_framework.random_manningsn" title="Permalink to this headline">¶</a></h2>
<p>This module contains functions to pull data from a <tt class="docutils literal"><span class="pre">fort.61</span></tt> and the
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> which controls the running of ADCIRC simulations within a set
of processors allocated by the submission script</p>
<dl class="function">
<dt id="polysim.run_framework.random_manningsn.concatenate">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">concatenate</tt><big>(</big><em>run_data1</em>, <em>run_data2</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.concatenate" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine data from <tt class="docutils literal"><span class="pre">run_data1</span></tt> and <tt class="docutils literal"><span class="pre">run_data2</span></tt>
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> with another
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> (<tt class="docutils literal"><span class="pre">other_run</span></tt>)
and points from both runs</p>
<dl class="docutils">
<dt>To combine several <a href="#id4"><span class="problematic" id="id5">``</span></a>run_data``s use::</dt>
<dd>run_list = [run1, run2, run3]
points_list = [points1, points2, points3]
run_data_list = zip(run_list, points_list)
reduce(concatenate, run_data_list)</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>run_data1</strong> &#8211; (runSet for run1, sample points for run1)</li>
<li><strong>run_data2</strong> &#8211; (runSet for run2, sample points for run2)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(run_data, points)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_manningsn.convert_to_days">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">convert_to_days</tt><big>(</big><em>time_obs</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.convert_to_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <tt class="docutils literal"><span class="pre">time_obs</span></tt> from seconds to days</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time_obs</strong> &#8211; observation times in seconds</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict()</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">time_obs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_manningsn.convert_to_hours">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">convert_to_hours</tt><big>(</big><em>time_obs</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.convert_to_hours" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <tt class="docutils literal"><span class="pre">time_obs</span></tt> from seconds to hours</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time_obs</strong> &#8211; observation times in seconds</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict()</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">time_obs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_manningsn.convert_to_percent">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">convert_to_percent</tt><big>(</big><em>nts_data</em>, <em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.convert_to_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <tt class="docutils literal"><span class="pre">nts_data['tinun63']</span></tt> from seconds to percent of RNDAY</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>nts_data</strong> &#8211; non-time-series data</li>
<li><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict()</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nts_data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_manningsn.fix_dry_data">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">fix_dry_data</tt><big>(</big><em>ts_data</em>, <em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.fix_dry_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix dry elevation station data flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ts_data</strong> &#8211; time series data</li>
<li><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict()</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ts_data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_manningsn.fix_dry_nodes">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">fix_dry_nodes</tt><big>(</big><em>ts_data</em>, <em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.fix_dry_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix dry elevation data flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ts_data</strong> &#8211; time series data</li>
<li><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict()</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ts_data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_manningsn.fix_dry_nodes_nts">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">fix_dry_nodes_nts</tt><big>(</big><em>nts_data</em>, <em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.fix_dry_nodes_nts" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix dry elevation data flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>nts_data</strong> &#8211; non time series data</li>
<li><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict()</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nts_data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_manningsn.loadmat">
<tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">loadmat</tt><big>(</big><em>save_file</em>, <em>base_dir</em>, <em>grid_dir</em>, <em>save_dir</em>, <em>basis_dir</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.loadmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from <tt class="docutils literal"><span class="pre">save_file</span></tt> into a
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> object. Reconstructs
<tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt>. Fixes dry data if
it was recorded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>save_file</strong> (<em>string</em>) &#8211; local file name</li>
<li><strong>grid_dir</strong> (<em>string</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and
<tt class="docutils literal"><span class="pre">fort.22</span></tt></li>
<li><strong>save_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are
saved, and where fort.13 is located</li>
<li><strong>basis_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</li>
<li><strong>base_dir</strong> (<em>string</em>) &#8211; directory that contains ADCIRC executables, and
machine specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple of <a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> and
<tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt> objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(main_run, domain)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.random_manningsn.runSet">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.random_manningsn.</tt><tt class="descname">runSet</tt><big>(</big><em>grid_dir</em>, <em>save_dir</em>, <em>basis_dir</em>, <em>num_of_parallel_runs=10</em>, <em>base_dir=None</em>, <em>script_name=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.basic.pickleable" title="polysim.pyADCIRC.basic.pickleable"><tt class="xref py py-class docutils literal"><span class="pre">polysim.pyADCIRC.basic.pickleable</span></tt></a></p>
<p>This class controls the running of <strong class="program">ADCIRC</strong> within the processors
allocated by the submission script</p>
<dl class="docutils">
<dt>grid_dir</dt>
<dd>directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and <tt class="docutils literal"><span class="pre">fort.22</span></tt></dd>
<dt>save_dir</dt>
<dd>directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are saved, and where fort.13 is
located</dd>
<dt>basis_dir</dt>
<dd>directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</dd>
<dt>base_dir</dt>
<dd>directory that contains ADCIRC executables, and machine
specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</dd>
<dt>num_of_parallel_runs</dt>
<dd>size of batch of jobs to be submitted to queue</dd>
</dl>
<p>script_name
nts_data</p>
<blockquote>
<div>non timeseries data</div></blockquote>
<dl class="docutils">
<dt>ts_data</dt>
<dd>timeseries data</dd>
<dt>time_obs</dt>
<dd>observation times for timeseries data</dd>
</dl>
<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.base_dir">
<tt class="descname">base_dir</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.base_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>directory that contains ADCIRC executables, and machine
specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.basis_dir">
<tt class="descname">basis_dir</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.basis_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>string, directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.concatenate">
<tt class="descname">concatenate</tt><big>(</big><em>other_run</em>, <em>points1</em>, <em>points2</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.concatenate" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine data from this
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> with another
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> (<tt class="docutils literal"><span class="pre">other_run</span></tt>)
and points from both runs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">other_run</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>points1</strong> (<em>np.array</em>) &#8211; sample points for <tt class="docutils literal"><span class="pre">self</span></tt></li>
<li><strong>points1</strong> &#8211; sample points for <tt class="docutils literal"><span class="pre">other_run</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(self, points)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.convert_to_days">
<tt class="descname">convert_to_days</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.convert_to_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <tt class="docutils literal"><span class="pre">self.time_obs</span></tt> from seconds to days</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.convert_to_hours">
<tt class="descname">convert_to_hours</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.convert_to_hours" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <tt class="docutils literal"><span class="pre">self.time_obs</span></tt> from seconds to hours</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.convert_to_percent">
<tt class="descname">convert_to_percent</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.convert_to_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <tt class="docutils literal"><span class="pre">self.nts_data['tinun63']</span></tt> from seconds to percent of RNDAY</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.fix_dry_data">
<tt class="descname">fix_dry_data</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.fix_dry_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix dry elevation station data flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.fix_dry_nodes">
<tt class="descname">fix_dry_nodes</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.fix_dry_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix dry elevation data flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.fix_dry_nodes_nts">
<tt class="descname">fix_dry_nodes_nts</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.fix_dry_nodes_nts" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix dry elevation data flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.grid_dir">
<tt class="descname">grid_dir</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.grid_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>string, directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.initialize_random_field_directories">
<tt class="descname">initialize_random_field_directories</tt><big>(</big><em>num_procs=12</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.initialize_random_field_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Make directories for parallel funs of random fields</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list()</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of paths to <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.make_plots">
<tt class="descname">make_plots</tt><big>(</big><em>points</em>, <em>domain</em>, <em>save=True</em>, <em>show=False</em>, <em>bathymetry=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.make_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots <tt class="docutils literal"><span class="pre">mesh</span></tt>, <tt class="docutils literal"><span class="pre">station_locations</span></tt>, <tt class="docutils literal"><span class="pre">basis_functions</span></tt>,
<tt class="docutils literal"><span class="pre">random_fields</span></tt>, <tt class="docutils literal"><span class="pre">mean_field</span></tt>, <tt class="docutils literal"><span class="pre">station_data</span></tt>, and
save in save_dir/figs</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">this uses bv_array everywhere. I might want to change this
later when I go to the nested mesh approach</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.nts_data">
<tt class="descname">nts_data</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.nts_data" title="Permalink to this definition">¶</a></dt>
<dd><p>dict() of <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>, non-timeseries data</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.num_of_parallel_runs">
<tt class="descname">num_of_parallel_runs</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.num_of_parallel_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>int, size of batch of jobs to be submitted to queue</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.plot_basis_functions">
<tt class="descname">plot_basis_functions</tt><big>(</big><em>domain</em>, <em>bv_array</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.plot_basis_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>See :meth:<a href="#id6"><span class="problematic" id="id7">``</span></a>~polsim.pyADCIRC.plotADCIRC.basis_functions`</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.plot_mean_field">
<tt class="descname">plot_mean_field</tt><big>(</big><em>domain</em>, <em>points</em>, <em>bv_array</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.plot_mean_field" title="Permalink to this definition">¶</a></dt>
<dd><p>See <tt class="xref py py-meth docutils literal"><span class="pre">mean_field()</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.plot_random_fields">
<tt class="descname">plot_random_fields</tt><big>(</big><em>domain</em>, <em>points</em>, <em>bv_array</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.plot_random_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>See <tt class="xref py py-meth docutils literal"><span class="pre">random_fields()</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.plot_station_data">
<tt class="descname">plot_station_data</tt><big>(</big><em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.plot_station_data" title="Permalink to this definition">¶</a></dt>
<dd><p>See <tt class="xref py py-meth docutils literal"><span class="pre">station_data()</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.remove_random_field_directories">
<tt class="descname">remove_random_field_directories</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.remove_random_field_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove directories for parallel funs of random fields</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.rf_dirs">
<tt class="descname">rf_dirs</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.rf_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>list(), list of <tt class="docutils literal"><span class="pre">RF_directory_*/</span></tt> names</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.run_points">
<tt class="descname">run_points</tt><big>(</big><em>data, points, save_file, num_procs=12, procs_pnode=12, ts_names=['fort.61'], nts_names=['maxele.63'], screenout=True, cleanup_dirs=True, num_writers=None, TpN=12</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.run_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs <strong class="program">ADCIRC</strong> for all of the configurations specified by
<tt class="docutils literal"><span class="pre">points</span></tt> and returns a dictonary of arrays containing data from
output files</p>
<blockquote>
<div>Reads in a default Manning&#8217;s <em>n</em> value from self.save_dir and stores
it in data.manningsn_default</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
<li><strong>points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (<tt class="docutils literal"><span class="pre">num_of_basis_vec</span></tt>,
<tt class="docutils literal"><span class="pre">num_of_random_fields</span></tt>)) &#8211; containts the weights to be used for each run</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; name of file to save <tt class="docutils literal"><span class="pre">station_data</span></tt> to</li>
<li><strong>num_procs</strong> (<em>int or 12</em>) &#8211; number of processors per <strong class="program">ADCIRC</strong>
simulation</li>
<li><strong>procs_pnode</strong> (<em>int</em>) &#8211; number of processors per node, 12 on lonestar,
and 16 on stampede</li>
<li><strong>ts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC timeseries
output files to be recorded from each run</li>
<li><strong>nts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC non timeseries
output files to be recorded from each run</li>
<li><strong>screenout</strong> (<em>boolean</em>) &#8211; flag (True &#8211;  write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to
screen, False &#8211; write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to temp file</li>
<li><strong>cleanup_dirs</strong> (<em>boolean</em>) &#8211; flag to delete all RF_dirs after run (True
&#8211; yes, False &#8211; no)</li>
<li><strong>num_writers</strong> (<em>int</em>) &#8211; number of MPI processes to dedicate soley to
the task of writing ascii files. This MUST be &lt; num_procs</li>
<li><strong>TpN</strong> (<em>int</em>) &#8211; number of tasks (cores to use) per node (wayness)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">(<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(<tt class="docutils literal"><span class="pre">time_obs</span></tt>, <tt class="docutils literal"><span class="pre">ts_data</span></tt>, <tt class="docutils literal"><span class="pre">nts_data</span></tt>)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently supports ADCIRC output files <tt class="docutils literal"><span class="pre">fort.6*</span></tt>,
<tt class="docutils literal"><span class="pre">*.63</span></tt>, <tt class="docutils literal"><span class="pre">fort.7*</span></tt>, but NOT Hot Start Output
(<tt class="docutils literal"><span class="pre">fort.67</span></tt>, <tt class="docutils literal"><span class="pre">fort.68</span></tt>)</p>
</div>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.save">
<tt class="descname">save</tt><big>(</big><em>mdict</em>, <em>save_file</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save matrices to a <tt class="docutils literal"><span class="pre">*.mat</span></tt> file for use by <tt class="docutils literal"><span class="pre">MATLAB</span> <span class="pre">BET</span></tt> code and
<a class="reference internal" href="#polysim.run_framework.random_manningsn.loadmat" title="polysim.run_framework.random_manningsn.loadmat"><tt class="xref py py-meth docutils literal"><span class="pre">loadmat()</span></tt></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mdict</strong> (<em>dict()</em>) &#8211; dictonary of run data</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; file name</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.save_dir">
<tt class="descname">save_dir</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.save_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>string, directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are saved, and
where <tt class="docutils literal"><span class="pre">fort.13</span></tt> is located</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.script_name">
<tt class="descname">script_name</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.script_name" title="Permalink to this definition">¶</a></dt>
<dd><p>string, name of the batch bash script</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.setup_rfdir">
<tt class="descname">setup_rfdir</tt><big>(</big><em>path</em>, <em>num_procs</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.setup_rfdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the directory path and copies required files from
<tt class="docutils literal"><span class="pre">self.base_dir</span></tt> into path:type path: string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; folder_name</li>
<li><strong>num_procs</strong> &#8211; number of processors per <strong class="program">ADCIRC</strong> run</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.time_obs">
<tt class="descname">time_obs</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.time_obs" title="Permalink to this definition">¶</a></dt>
<dd><p>dict() of <tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt>, time in (s) of observations</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.random_manningsn.runSet.ts_data">
<tt class="descname">ts_data</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.ts_data" title="Permalink to this definition">¶</a></dt>
<dd><p>dict() of <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>, timeseries data</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.update_dir_file">
<tt class="descname">update_dir_file</tt><big>(</big><em>num_dirs</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.update_dir_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a list of RF_dirs for the prep_script to use.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num_dirs</strong> (<em>int</em>) &#8211; number of RF_dirs to put in <tt class="docutils literal"><span class="pre">dir_list</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.update_mdict">
<tt class="descname">update_mdict</tt><big>(</big><em>mdict</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.update_mdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up references for <tt class="docutils literal"><span class="pre">mdict</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mdict</strong> (<em>dict()</em>) &#8211; dictonary of run data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.write_prep_script">
<tt class="descname">write_prep_script</tt><big>(</big><em>n</em>, <em>num_jobs</em>, <em>screenout=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.write_prep_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Creats a bash script to run <strong class="program">adcprep</strong> with <tt class="docutils literal"><span class="pre">in.prepn</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n</strong> (<em>int</em>) &#8211; n for <tt class="docutils literal"><span class="pre">in.prepn</span></tt> input to ADCPREP</li>
<li><strong>num_jobs</strong> (<em>int</em>) &#8211; number of jobs to run</li>
<li><strong>screenout</strong> (<em>boolean</em>) &#8211; flag (True &#8211;  write <tt class="docutils literal"><span class="pre">ADCPREP</span></tt> output to
screen, False &#8211; write <tt class="docutils literal"><span class="pre">ADCPREP</span></tt> output to <tt class="docutils literal"><span class="pre">prep_o.txt</span></tt> file)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">name of bash script for prepping a batch of jobs within our
processor allotment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_manningsn.runSet.write_run_script">
<tt class="descname">write_run_script</tt><big>(</big><em>num_procs</em>, <em>num_jobs</em>, <em>procs_pnode</em>, <em>TpN</em>, <em>screenout=True</em>, <em>num_writers=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_manningsn.runSet.write_run_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Creats a bash script called run_job_batch.sh</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_procs</strong> (<em>int</em>) &#8211; number of processors per job</li>
<li><strong>num_jobs</strong> (<em>int</em>) &#8211; number of jobs to run</li>
<li><strong>procs_pnode</strong> (<em>int</em>) &#8211; number of processors per node</li>
<li><strong>screenout</strong> (<em>boolean</em>) &#8211; flag (True &#8211;  write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to
screen, False &#8211; write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to temp file)</li>
<li><strong>num_writers</strong> (<em>int</em>) &#8211; number of MPI processes to dedicate soley to
the task of writing ascii files</li>
<li><strong>TpN</strong> (<em>int</em>) &#8211; number of tasks (cores to use) per node (wayness)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">name of bash script for running a batch of jobs within our
processor allotment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polysim.run_framework.random_wall">
<span id="polysim-run-framework-random-wall-module"></span><h2>polysim.run_framework.random_wall module<a class="headerlink" href="#module-polysim.run_framework.random_wall" title="Permalink to this headline">¶</a></h2>
<p>This module contains functions to pull data from ADCIRC output files and the
<a class="reference internal" href="#polysim.run_framework.random_wall.runSet" title="polysim.run_framework.random_wall.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> which controls the running of ADCIRC simulations within a set
of processors allocated by the submission script</p>
<dl class="function">
<dt id="polysim.run_framework.random_wall.loadmat">
<tt class="descclassname">polysim.run_framework.random_wall.</tt><tt class="descname">loadmat</tt><big>(</big><em>save_file</em>, <em>base_dir</em>, <em>grid_dir</em>, <em>save_dir</em>, <em>basis_dir</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall.loadmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from <tt class="docutils literal"><span class="pre">save_file</span></tt> into a
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> object. Reconstructs
<tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt>. Fixes dry data if
it was recorded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>save_file</strong> (<em>string</em>) &#8211; local file name</li>
<li><strong>grid_dir</strong> (<em>string</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and
<tt class="docutils literal"><span class="pre">fort.22</span></tt></li>
<li><strong>save_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are
saved, and where fort.13 is located</li>
<li><strong>basis_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</li>
<li><strong>base_dir</strong> (<em>string</em>) &#8211; directory that contains ADCIRC executables, and
machine specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple of <a class="reference internal" href="#polysim.run_framework.random_wall.runSet" title="polysim.run_framework.random_wall.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a>,
<tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt> objects, and
two :class:<a href="#id8"><span class="problematic" id="id9">`</span></a>numpy.array`s</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(main_run, domain, mann_pts, wall_pts)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="polysim.run_framework.random_wall.plot_walls">
<tt class="descclassname">polysim.run_framework.random_wall.</tt><tt class="descname">plot_walls</tt><big>(</big><em>run_set</em>, <em>domain</em>, <em>wall_points</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall.plot_walls" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the walls with dimenstions described in <tt class="docutils literal"><span class="pre">wall_points</span></tt> and saves
the plots in <tt class="docutils literal"><span class="pre">self.save_dir</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>domain</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
<li><strong>wall_points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (5, <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>)) &#8211; containts the box_limits, and wall_height for each
wall [ximin, xmax, ymin, ymax, wall_height]</li>
<li><strong>save</strong> (<em>boolean</em>) &#8211; flag for whether or not to save plots</li>
<li><strong>show</strong> (<em>boolean</em>) &#8211; flag for whether or not to show plots</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.random_wall.runSet">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.random_wall.</tt><tt class="descname">runSet</tt><big>(</big><em>grid_dir</em>, <em>save_dir</em>, <em>basis_dir</em>, <em>num_of_parallel_runs=10</em>, <em>base_dir=None</em>, <em>script_name=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall.runSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.random_manningsn.runSet</span></tt></a></p>
<p>This class controls the running of <strong class="program">ADCIRC</strong> within the processors
allocated by the submission script</p>
<dl class="docutils">
<dt>grid_dir</dt>
<dd>directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and <tt class="docutils literal"><span class="pre">fort.22</span></tt></dd>
<dt>save_dir</dt>
<dd>directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are saved, and where fort.13 is
located</dd>
<dt>basis_dir </dt>
<dd>directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</dd>
<dt>base_dir</dt>
<dd>directory that contains ADCIRC executables, and machine
specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</dd>
<dt>num_of_parallel_runs</dt>
<dd>size of batch of jobs to be submitted to queue</dd>
</dl>
<p>script_name
nts_data</p>
<blockquote>
<div>non timeseries data</div></blockquote>
<dl class="docutils">
<dt>ts_data </dt>
<dd>timeseries data</dd>
<dt>time_obs</dt>
<dd>observation times for timeseries data</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.random_wall.runSet.make_plots">
<tt class="descname">make_plots</tt><big>(</big><em>wall_points</em>, <em>mann_points</em>, <em>domain</em>, <em>save=True</em>, <em>show=False</em>, <em>bathymetry=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall.runSet.make_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots <tt class="docutils literal"><span class="pre">mesh</span></tt>, <tt class="docutils literal"><span class="pre">station_locations</span></tt>, <tt class="docutils literal"><span class="pre">basis_functions</span></tt>,
<tt class="docutils literal"><span class="pre">random_fields</span></tt>, <tt class="docutils literal"><span class="pre">mean_field</span></tt>, <tt class="docutils literal"><span class="pre">station_data</span></tt>, and
save in save_dir/figs</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">this uses bv_array everywhere. I might want to change this
later when I go to the nested mesh approach</p>
</div>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_wall.runSet.plot_walls">
<tt class="descname">plot_walls</tt><big>(</big><em>domain</em>, <em>wall_points</em>, <em>save=True</em>, <em>show=False</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall.runSet.plot_walls" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the walls with dimenstions described in <tt class="docutils literal"><span class="pre">wall_points</span></tt> and saves
the plots in <tt class="docutils literal"><span class="pre">self.save_dir</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>domain</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
<li><strong>wall_points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (5, <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>)) &#8211; containts the box_limits, and wall_height for each
wall [ximin, xmax, ymin, ymax, wall_height]</li>
<li><strong>save</strong> (<em>boolean</em>) &#8211; flag for whether or not to save plots</li>
<li><strong>show</strong> (<em>boolean</em>) &#8211; flag for whether or not to show plots</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_wall.runSet.run_nobatch">
<tt class="descname">run_nobatch</tt><big>(</big><em>data, wall_points, mann_points, save_file, num_procs=12, procs_pnode=12, ts_names=['fort.61'], nts_names=['maxele.63'], screenout=True, num_writers=None, TpN=12</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall.runSet.run_nobatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs <strong class="program">ADCIRC</strong> for all of the configurations specified by
<tt class="docutils literal"><span class="pre">wall_points</span></tt> and <tt class="docutils literal"><span class="pre">mann_points</span></tt> and returns a dictonary of arrays
containing data from output files. Runs batches of <strong class="program">PADCIRC</strong>
as a single for loop and preps both the <tt class="docutils literal"><span class="pre">fort.13</span></tt> and fort.14`` in
the same step.</p>
<blockquote>
<div>Reads in a default Manning&#8217;s <em>n</em> value from self.save_dir and stores
it in data.manningsn_default</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
<li><strong>wall_points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (5, <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>)) &#8211; containts the box_limits, and wall_height for each
wall [ximin, xmax, ymin, ymax, wall_height]</li>
<li><strong>mann_points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (<tt class="docutils literal"><span class="pre">num_of_basis_vec</span></tt>,
<tt class="docutils literal"><span class="pre">num_of_random_fields</span></tt>), <tt class="docutils literal"><span class="pre">num_of_random_fields</span></tt> MUST be the
same as <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>. The ith wall will be associated with
the ith field specifed by mann_points) &#8211; containts the weights to be used for each run</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; name of file to save mdict to</li>
<li><strong>num_procs</strong> (<em>int or 12</em>) &#8211; number of processors per <strong class="program">ADCIRC</strong>
simulation, 12 on lonestar, and 16 on stamped</li>
<li><strong>procs_pnode</strong> (<em>int</em>) &#8211; number of processors per node</li>
<li><strong>ts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC timeseries
output files to be recorded from each run</li>
<li><strong>nts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC non timeseries
output files to be recorded from each run</li>
<li><strong>screenout</strong> (<em>boolean</em>) &#8211; flag (True &#8211;  write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to
screen, False &#8211; write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to temp file</li>
<li><strong>num_writers</strong> (<em>int</em>) &#8211; number of MPI processes to dedicate soley to
the task of writing ascii files. This MUST be &lt; num_procs</li>
<li><strong>TpN</strong> (<em>int</em>) &#8211; number of tasks (cores to use) per node (wayness)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">(<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(<tt class="docutils literal"><span class="pre">time_obs</span></tt>, <tt class="docutils literal"><span class="pre">ts_data</span></tt>, <tt class="docutils literal"><span class="pre">nts_data</span></tt>)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently supports ADCIRC output files <tt class="docutils literal"><span class="pre">fort.6*</span></tt>,
<tt class="docutils literal"><span class="pre">*.63</span></tt>, <tt class="docutils literal"><span class="pre">fort.7*</span></tt>, but NOT Hot Start Output
(<tt class="docutils literal"><span class="pre">fort.67</span></tt>, <tt class="docutils literal"><span class="pre">fort.68</span></tt>)</p>
</div>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_wall.runSet.run_points">
<tt class="descname">run_points</tt><big>(</big><em>data, wall_points, mann_points, save_file, num_procs=12, procs_pnode=12, ts_names=['fort.61'], nts_names=['maxele.63'], screenout=True, s_p_wall=None, num_writers=None, TpN=12</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall.runSet.run_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs <strong class="program">ADCIRC</strong> for all of the configurations specified by
<tt class="docutils literal"><span class="pre">wall_points</span></tt> and <tt class="docutils literal"><span class="pre">mann_points</span></tt> and returns a dictonary of arrays
containing data from output files. Assumes that the number of
<tt class="docutils literal"><span class="pre">wall_points</span></tt> is less than the number of <tt class="docutils literal"><span class="pre">mann_points</span></tt>. Runs
batches of <strong class="program">PADCIRC</strong> as a double for loop with the
<strong class="program">ADCPREP</strong> prepping the <tt class="docutils literal"><span class="pre">fort.14</span></tt> file on the exterior loop
and the <tt class="docutils literal"><span class="pre">fort.13</span></tt> file on the interior loop.</p>
<blockquote>
<div>Reads in a default Manning&#8217;s <em>n</em> value from self.save_dir and stores
it in data.manningsn_default</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a></li>
<li><strong>wall_points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (5, <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>)) &#8211; containts the box_limits, and wall_height for each
wall [ximin, xmax, ymin, ymax, wall_height]</li>
<li><strong>mann_points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (<tt class="docutils literal"><span class="pre">num_of_basis_vec</span></tt>,
<tt class="docutils literal"><span class="pre">num_of_random_fields</span></tt>), <tt class="docutils literal"><span class="pre">num_of_random_fields</span></tt> MUST be a
multiple of <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>. The ith wall will be associated with
the ith set of i*(num_of_random_fields/num_of_walls) mann_points) &#8211; containts the weights to be used for each run</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; name of file to save mdict to</li>
<li><strong>num_procs</strong> (<em>int or 12</em>) &#8211; number of processors per <strong class="program">ADCIRC</strong>
simulation, 12 on lonestar, and 16 on stamped</li>
<li><strong>procs_pnode</strong> (<em>int</em>) &#8211; number of processors per node</li>
<li><strong>ts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC timeseries
output files to be recorded from each run</li>
<li><strong>nts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC non timeseries
output files to be recorded from each run</li>
<li><strong>screenout</strong> (<em>boolean</em>) &#8211; flag (True &#8211;  write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to
screen, False &#8211; write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to temp file</li>
<li><strong>num_writers</strong> (<em>int</em>) &#8211; number of MPI processes to dedicate soley to
the task of writing ascii files. This MUST be &lt; num_procs</li>
<li><strong>TpN</strong> (<em>int</em>) &#8211; number of tasks (cores to use) per node (wayness)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">(<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(<tt class="docutils literal"><span class="pre">time_obs</span></tt>, <tt class="docutils literal"><span class="pre">ts_data</span></tt>, <tt class="docutils literal"><span class="pre">nts_data</span></tt>)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently supports ADCIRC output files <tt class="docutils literal"><span class="pre">fort.6*</span></tt>,
<tt class="docutils literal"><span class="pre">*.63</span></tt>, <tt class="docutils literal"><span class="pre">fort.7*</span></tt>, but NOT Hot Start Output
(<tt class="docutils literal"><span class="pre">fort.67</span></tt>, <tt class="docutils literal"><span class="pre">fort.68</span></tt>)</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polysim.run_framework.random_wall_Q">
<span id="polysim-run-framework-random-wall-q-module"></span><h2>polysim.run_framework.random_wall_Q module<a class="headerlink" href="#module-polysim.run_framework.random_wall_Q" title="Permalink to this headline">¶</a></h2>
<p>This module contains functions to pull data from ADCIRC output files and the
<a class="reference internal" href="#polysim.run_framework.random_wall_Q.runSet" title="polysim.run_framework.random_wall_Q.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> which controls the running of ADCIRC simulations within a set
of processors allocated by the submission script</p>
<dl class="function">
<dt id="polysim.run_framework.random_wall_Q.loadmat">
<tt class="descclassname">polysim.run_framework.random_wall_Q.</tt><tt class="descname">loadmat</tt><big>(</big><em>save_file</em>, <em>base_dir</em>, <em>grid_dir</em>, <em>save_dir</em>, <em>basis_dir</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall_Q.loadmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from <tt class="docutils literal"><span class="pre">save_file</span></tt> into a
<a class="reference internal" href="#polysim.run_framework.random_manningsn.runSet" title="polysim.run_framework.random_manningsn.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a> object. Reconstructs
<tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt>. Fixes dry data if
it was recorded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>save_file</strong> (<em>string</em>) &#8211; local file name</li>
<li><strong>grid_dir</strong> (<em>string</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and
<tt class="docutils literal"><span class="pre">fort.22</span></tt></li>
<li><strong>save_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are
saved, and where fort.13 is located</li>
<li><strong>basis_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</li>
<li><strong>base_dir</strong> (<em>string</em>) &#8211; directory that contains ADCIRC executables, and
machine specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple of <a class="reference internal" href="#polysim.run_framework.random_wall.runSet" title="polysim.run_framework.random_wall.runSet"><tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt></a>,
<tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt> objects, and
two :class:<a href="#id10"><span class="problematic" id="id11">`</span></a>numpy.array`s</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(main_run, domain, mann_pts, wall_pts)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.random_wall_Q.runSet">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.random_wall_Q.</tt><tt class="descname">runSet</tt><big>(</big><em>grid_dir</em>, <em>save_dir</em>, <em>basis_dir</em>, <em>num_of_parallel_runs=10</em>, <em>base_dir=None</em>, <em>script_name=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall_Q.runSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#polysim.run_framework.random_wall.runSet" title="polysim.run_framework.random_wall.runSet"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.random_wall.runSet</span></tt></a></p>
<p>This class controls the running of <strong class="program">ADCIRC</strong> within the processors
allocated by the submission script</p>
<dl class="docutils">
<dt>grid_dir</dt>
<dd>directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and <tt class="docutils literal"><span class="pre">fort.22</span></tt></dd>
<dt>save_dir</dt>
<dd>directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are saved, and where fort.13 is
located</dd>
<dt>basis_dir </dt>
<dd>directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</dd>
<dt>base_dir</dt>
<dd>directory that contains ADCIRC executables, and machine
specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</dd>
<dt>num_of_parallel_runs</dt>
<dd>size of batch of jobs to be submitted to queue</dd>
</dl>
<p>script_name
nts_data</p>
<blockquote>
<div>non timeseries data</div></blockquote>
<dl class="docutils">
<dt>ts_data </dt>
<dd>timeseries data</dd>
<dt>time_obs</dt>
<dd>observation times for timeseries data</dd>
</dl>
<dl class="method">
<dt id="polysim.run_framework.random_wall_Q.runSet.run_nobatch_q">
<tt class="descname">run_nobatch_q</tt><big>(</big><em>data</em>, <em>wall_points</em>, <em>mann_points</em>, <em>save_file</em>, <em>num_procs=12</em>, <em>procs_pnode=12</em>, <em>stations=None</em>, <em>screenout=True</em>, <em>num_writers=None</em>, <em>TpN=12</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall_Q.runSet.run_nobatch_q" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs <strong class="program">ADCIRC</strong> for all of the configurations specified by
<tt class="docutils literal"><span class="pre">wall_points</span></tt> and <tt class="docutils literal"><span class="pre">mann_points</span></tt> and returns a dictonary of arrays
containing data from output files. Runs batches of <strong class="program">PADCIRC</strong>
as a single for loop and preps both the <tt class="docutils literal"><span class="pre">fort.13</span></tt> and fort.14`` in
the same step.</p>
<p>Stores only the QoI at the stations defined in <cite>stations`</cite>. In this
case the QoI is the <tt class="docutils literal"><span class="pre">maxele63</span></tt> at the designated station.</p>
<p>Reads in a default Manning&#8217;s <em>n</em> value from self.save_dir and stores
it in data.manningsn_default                                                                   
:param data: <a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a>
:type wall_points: <tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (5, <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>)
:param wall_points: containts the box_limits, and wall_height for each</p>
<blockquote>
<div>wall [ximin, xmax, ymin, ymax, wall_height]</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mann_points</strong> (<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt> of size (<tt class="docutils literal"><span class="pre">num_of_basis_vec</span></tt>,
<tt class="docutils literal"><span class="pre">num_of_random_fields</span></tt>), <tt class="docutils literal"><span class="pre">num_of_random_fields</span></tt> MUST be the
same as <tt class="docutils literal"><span class="pre">num_of_walls</span></tt>. The ith wall will be associated with
the ith field specifed by mann_points) &#8211; containts the weights to be used for each run</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; name of file to save mdict to</li>
<li><strong>num_procs</strong> (<em>int or 12</em>) &#8211; number of processors per <strong class="program">ADCIRC</strong>
simulation, 12 on lonestar, and 16 on stamped</li>
<li><strong>procs_pnode</strong> (<em>int</em>) &#8211; number of processors per node</li>
<li><strong>stations</strong> (<em>list()</em>) &#8211; list of stations to gather QoI from. If
<tt class="docutils literal"><span class="pre">None</span></tt> uses the stations defined in <tt class="docutils literal"><span class="pre">data</span></tt></li>
<li><strong>screenout</strong> (<em>boolean</em>) &#8211; flag (True &#8211;  write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to
screen, False &#8211; write <tt class="docutils literal"><span class="pre">ADCIRC</span></tt> output to temp file</li>
<li><strong>num_writers</strong> (<em>int</em>) &#8211; number of MPI processes to dedicate soley to
the task of writing ascii files. This MUST be &lt; num_procs</li>
<li><strong>TpN</strong> (<em>int</em>) &#8211; number of tasks (cores to use) per node (wayness)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">(<tt class="xref py py-class docutils literal"><span class="pre">np.array</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(<tt class="docutils literal"><span class="pre">time_obs</span></tt>, <tt class="docutils literal"><span class="pre">ts_data</span></tt>, <tt class="docutils literal"><span class="pre">nts_data</span></tt>)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently supports ADCIRC output files <tt class="docutils literal"><span class="pre">fort.6*</span></tt>,
<tt class="docutils literal"><span class="pre">*.63</span></tt>, <tt class="docutils literal"><span class="pre">fort.7*</span></tt>, but NOT Hot Start Output
(<tt class="docutils literal"><span class="pre">fort.67</span></tt>, <tt class="docutils literal"><span class="pre">fort.68</span></tt>)</p>
</div>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.random_wall_Q.runSet.update_mdict">
<tt class="descname">update_mdict</tt><big>(</big><em>mdict</em><big>)</big><a class="headerlink" href="#polysim.run_framework.random_wall_Q.runSet.update_mdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up references for <tt class="docutils literal"><span class="pre">mdict</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mdict</strong> (<em>dict()</em>) &#8211; dictionary of run data</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polysim.run_framework.subdomain">
<span id="polysim-run-framework-subdomain-module"></span><h2>polysim.run_framework.subdomain module<a class="headerlink" href="#module-polysim.run_framework.subdomain" title="Permalink to this headline">¶</a></h2>
<p>This module contains a set of methods and a class for interacting with NCSU
Subdomain Modeling Python code and associated files. The focus of this module
is the <a class="reference internal" href="#polysim.run_framework.subdomain.subdomain" title="polysim.run_framework.subdomain.subdomain"><tt class="xref py py-class docutils literal"><span class="pre">subdomain</span></tt></a>.</p>
<dl class="function">
<dt id="polysim.run_framework.subdomain.ellipse_properties">
<tt class="descclassname">polysim.run_framework.subdomain.</tt><tt class="descname">ellipse_properties</tt><big>(</big><em>x</em>, <em>y</em>, <em>w</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.ellipse_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="polysim.run_framework.subdomain.loadmat">
<tt class="descclassname">polysim.run_framework.subdomain.</tt><tt class="descname">loadmat</tt><big>(</big><em>save_file</em>, <em>base_dir</em>, <em>grid_dir</em>, <em>save_dir</em>, <em>basis_dir</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.loadmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from <tt class="docutils literal"><span class="pre">save_file</span></tt> into a
<tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt> object. Reconstructs
<tt class="xref py py-class docutils literal"><span class="pre">subdomain</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>save_file</strong> (<em>string</em>) &#8211; local file name</li>
<li><strong>grid_dir</strong> (<em>string</em>) &#8211; directory containing <tt class="docutils literal"><span class="pre">fort.14</span></tt>, <tt class="docutils literal"><span class="pre">fort.15</span></tt>, and
<tt class="docutils literal"><span class="pre">fort.22</span></tt></li>
<li><strong>save_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">RF_directory_*</span></tt> are
saved, and where fort.13 is located</li>
<li><strong>basis_dir</strong> (<em>string</em>) &#8211; directory where <tt class="docutils literal"><span class="pre">landuse_*</span></tt> folders are located</li>
<li><strong>base_dir</strong> (<em>string</em>) &#8211; directory that contains ADCIRC executables, and
machine specific <tt class="docutils literal"><span class="pre">in.prep#</span></tt> files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple of <tt class="xref py py-class docutils literal"><span class="pre">runSet</span></tt> and 
<tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt> objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(main_run, domain)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="polysim.run_framework.subdomain.subdomain">
<em class="property">class </em><tt class="descclassname">polysim.run_framework.subdomain.</tt><tt class="descname">subdomain</tt><big>(</big><em>path</em>, <em>fulldomain=None</em>, <em>node_num=0</em>, <em>element_num=0</em>, <em>node=None</em>, <em>element=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#polysim.run_framework.domain.domain" title="polysim.run_framework.domain.domain"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.domain.domain</span></tt></a></p>
<p>Objects of this class contain all the data needed by <tt class="xref py py-mod docutils literal"><span class="pre">py.genbcs</span></tt>,
<tt class="xref py py-mod docutils literal"><span class="pre">py.genfull</span></tt>, and <tt class="xref py py-mod docutils literal"><span class="pre">py.gensub</span></tt> for a particular subdomain
mesh/grid. References to <a class="reference internal" href="#module-polysim.run_framework.subdomain" title="polysim.run_framework.subdomain"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.subdomain</span></tt></a> objects
are also contained in an instantiation of this class.</p>
<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.check">
<tt class="descname">check</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to make sure the <tt class="docutils literal"><span class="pre">fort.019</span></tt> file exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">False the <tt class="docutils literal"><span class="pre">fort.019</span></tt> doesn&#8217;t exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.check_fulldomain">
<tt class="descname">check_fulldomain</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.check_fulldomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if the <tt class="docutils literal"><span class="pre">fort.06*</span></tt> and <tt class="docutils literal"><span class="pre">PE*/fort.065</span></tt> files exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">False if the <tt class="docutils literal"><span class="pre">fort.06*</span></tt> files don&#8217;t exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.circle">
<tt class="descname">circle</tt><big>(</big><em>x</em>, <em>y</em>, <em>r</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a subdomain shape file for a circular subdomain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) &#8211; x coordinate of circle center</li>
<li><strong>y</strong> (<em>float</em>) &#8211; y coordinate of circle center</li>
<li><strong>r</strong> (<em>float</em>) &#8211; radius of circle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">int</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">flag for <tt class="xref py py-meth docutils literal"><span class="pre">py.gensub()</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.compare_runSet">
<tt class="descname">compare_runSet</tt><big>(</big><em>ts_data</em>, <em>nts_data</em>, <em>ts_names=None</em>, <em>nts_names=None</em>, <em>save_file=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.compare_runSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in <tt class="xref py py-class docutils literal"><span class="pre">polysim.random_manningsn.runSet</span></tt> output from this
subdomain and from it&#8217;s fulldomain and compares them.</p>
<p>NOTE THIS DOES NOT CURRENTLY WORK FOR STATION DATA! ONLY USE FOR GLOBAL
DATA i.e files that are fort.*3 or fort.*4</p>
<p>comparision_data = fulldomain_data - subdomain_data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ts_data</strong> (<em>list()</em>) &#8211; (ts_data_subdomain, ts_data_fulldomain)</li>
<li><strong>nts_data</strong> (<em>list()</em>) &#8211; (nts_data_subdomain, nts_data_fulldomain)</li>
<li><strong>ts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC timeseries
output files to be recorded from each run</li>
<li><strong>nts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC non timeseries
output files to be recorded from each run</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; name of file to save comparision matricies to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(ts_error, nts_error)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.compare_to_fulldomain">
<tt class="descname">compare_to_fulldomain</tt><big>(</big><em>ts_names</em>, <em>nts_names</em>, <em>save_file=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.compare_to_fulldomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in output files from this subdomain and from it&#8217;s fulldomain and
compares them.</p>
<p>NOTE THIS DOES NOT CURRENTLY WORK FOR STATION DATA! ONLY USE FOR GLOBAL
DATA i.e files that are fort.*3 or fort.*4</p>
<p>comparision_data = fulldomain_data - subdomain_data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC timeseries
output files to be recorded from each run</li>
<li><strong>nts_names</strong> (<em>list()</em>) &#8211; names of ADCIRC non timeseries
output files to be recorded from each run</li>
<li><strong>save_file</strong> (<em>string</em>) &#8211; name of file to save comparision matricies to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(ts_error, nts_error, time_obs, ts_data, nts_data)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.create_fort15">
<tt class="descname">create_fort15</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.create_fort15" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the <tt class="docutils literal"><span class="pre">fort.15</span></tt> from <tt class="docutils literal"><span class="pre">fulldomain.path</span></tt> to <tt class="docutils literal"><span class="pre">self.path</span></tt> and
modify for a subdomain run.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="polysim.pyADCIRC.html#polysim.pyADCIRC.fort15_management.subdomain" title="polysim.pyADCIRC.fort15_management.subdomain"><tt class="xref py py-meth docutils literal"><span class="pre">polysim.pyADCIRC.fort15_management.subdomain()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.ellipse">
<tt class="descname">ellipse</tt><big>(</big><em>x</em>, <em>y</em>, <em>w</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a subdomain shape file for an elliptical subdomain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>list()</em>) &#8211; x coordinates of the first and second focal points</li>
<li><strong>y</strong> (<em>list()</em>) &#8211; y coordinates of the first and second focal points</li>
<li><strong>w</strong> (<em>float</em>) &#8211; width of ellipse</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">int</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">flag for <tt class="xref py py-meth docutils literal"><span class="pre">py.gensub()</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.ellipse_properties">
<tt class="descname">ellipse_properties</tt><big>(</big><em>x</em>, <em>y</em>, <em>w</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.ellipse_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.subdomain.subdomain.flag">
<tt class="descname">flag</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.flag" title="Permalink to this definition">¶</a></dt>
<dd><p>flag for shape of subdomain (0 ellipse, 1 circle)</p>
</dd></dl>

<dl class="attribute">
<dt id="polysim.run_framework.subdomain.subdomain.fulldomain">
<tt class="descname">fulldomain</tt><em class="property"> = None</em><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.fulldomain" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#module-polysim.run_framework.fulldomain" title="polysim.run_framework.fulldomain"><tt class="xref py py-class docutils literal"><span class="pre">fulldomain</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.genbcs">
<tt class="descname">genbcs</tt><big>(</big><em>forcing_freq=1</em>, <em>dt=None</em>, <em>nspoolgs=1</em>, <em>h0=None</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.genbcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the <tt class="docutils literal"><span class="pre">fort.019</span></tt> which is the boundary conditions file needed
for a subdomain run of <strong class="program">ADCIRC</strong>. This requires the presence of
the output files from a fulldomain run, <tt class="docutils literal"><span class="pre">fort.06*</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>forcing_freq</strong> (<em>int</em>) &#8211; number of timesteps at which infomration
is written to a boudnary conditions file (<tt class="docutils literal"><span class="pre">fort.019</span></tt>) THIS MUST
BE A MULTIPLE OF NSPOOLGS</li>
<li><strong>dt</strong> (<em>float</em>) &#8211; One timestep in seconds</li>
<li><strong>nspoolgs</strong> (<em>int</em>) &#8211; the number of timesteps at which information is
written to the new output files <tt class="docutils literal"><span class="pre">fort.06*</span></tt></li>
<li><strong>h0</strong> (<em>float</em>) &#8211; minimum water depth for a node to be wet</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">command line for invoking genbcs.py</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.genfull">
<tt class="descname">genfull</tt><big>(</big><em>noutgs=1</em>, <em>nspoolgs=1</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.genfull" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the full domain control file, <tt class="docutils literal"><span class="pre">fort.015</span></tt>, and save it to
<tt class="docutils literal"><span class="pre">self.fulldomain.path</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>noutgs</strong> (<em>int</em>) &#8211; flag controlling whether or not <tt class="docutils literal"><span class="pre">fort.06*</span></tt> will be
written out</li>
<li><strong>nspoolgs</strong> (<em>int</em>) &#8211; the number of timesteps at which information is
written to the new output files <tt class="docutils literal"><span class="pre">fort.06*</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">command line for invoking genfull.py</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.gensub">
<tt class="descname">gensub</tt><big>(</big><em>bound_ele=1</em>, <em>bound_vel=1</em>, <em>bound_wd=1</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.gensub" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the subdomain input files (<tt class="docutils literal"><span class="pre">fort.13</span></tt>, <tt class="docutils literal"><span class="pre">fort.14</span></tt>,
<tt class="docutils literal"><span class="pre">fort.015</span></tt>, <tt class="docutils literal"><span class="pre">py.141</span></tt>, <tt class="docutils literal"><span class="pre">py.140</span></tt>) and shape file. Creates
<tt class="docutils literal"><span class="pre">fort.15</span></tt> based on the <tt class="docutils literal"><span class="pre">fort.15</span></tt> in
<a class="reference internal" href="#module-polysim.run_framework.fulldomain" title="polysim.run_framework.fulldomain"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.fulldomain</span></tt></a> to <tt class="docutils literal"><span class="pre">self.path</span></tt>, and creates
symbolic links to meterological forcing files (<tt class="docutils literal"><span class="pre">fort.22*</span></tt>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bound_ele</strong> (<em>int</em>) &#8211; a flag determining whether surface elevations of
the boundary nodes of a subdomain are enforced using a boundary
condition file.</li>
<li><strong>bound_vel</strong> (<em>int</em>) &#8211; a flag determining whether velocities of
the boundary nodes of a subdomain are enforced using a boundary
condition file.</li>
<li><strong>bound_wd</strong> (<em>int</em>) &#8211; a flag determining whether wet/dry status of
the boundary nodes of a subdomain are enforced using a boundary
condition file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">command line for invoking gensub.py</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.read_circle">
<tt class="descname">read_circle</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.read_circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the parameters used to define the circular subdomain cut out and
store them as <tt class="docutils literal"><span class="pre">self.x</span></tt>, <tt class="docutils literal"><span class="pre">self.y</span></tt>, and <tt class="docutils literal"><span class="pre">self.r</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(x, y, r)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.read_ellipse">
<tt class="descname">read_ellipse</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.read_ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the parameters used to define the circular subdomain cut out and
store them as <tt class="docutils literal"><span class="pre">self.x</span></tt>, <tt class="docutils literal"><span class="pre">self.y</span></tt>, and <tt class="docutils literal"><span class="pre">self.r</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(x, y, w)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.read_py_ele">
<tt class="descname">read_py_ele</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.read_py_ele" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the subdomain to fulldomain element map</p>
<p>Store as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">sub2full_element</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</pre></div>
</div>
<p>where key = subdomain element #, value = fulldomain element #</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.read_py_node">
<tt class="descname">read_py_node</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.read_py_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the subdomain to fulldomain node map</p>
<p>Store as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">sub2full_node</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</pre></div>
</div>
<p>where key = subdomain node #, value = fulldomain node #</p>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.set_fulldomain">
<tt class="descname">set_fulldomain</tt><big>(</big><em>fulldomain</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.set_fulldomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the fulldomain of this subdomain to fulldomain and adds this
subdomain to that fulldomain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fulldomain</strong> (<a class="reference internal" href="#module-polysim.run_framework.fulldomain" title="polysim.run_framework.fulldomain"><tt class="xref py py-class docutils literal"><span class="pre">fulldomain</span></tt></a>) &#8211; the fulldomain for this subdomain</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.setup">
<tt class="descname">setup</tt><big>(</big><em>flag=None</em>, <em>bound_ele=1</em>, <em>bound_vel=1</em>, <em>bound_wd=1</em><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the subdomain input files (<tt class="docutils literal"><span class="pre">fort.13</span></tt>, <tt class="docutils literal"><span class="pre">fort.14</span></tt>,
<tt class="docutils literal"><span class="pre">fort.015</span></tt>, <tt class="docutils literal"><span class="pre">py.141</span></tt>, <tt class="docutils literal"><span class="pre">py.140</span></tt>) and shape file. Creates
<tt class="docutils literal"><span class="pre">fort.15</span></tt> based on the <tt class="docutils literal"><span class="pre">fort.15</span></tt> in
<a class="reference internal" href="#module-polysim.run_framework.fulldomain" title="polysim.run_framework.fulldomain"><tt class="xref py py-class docutils literal"><span class="pre">polysim.run_framework.fulldomain</span></tt></a> to <tt class="docutils literal"><span class="pre">self.path</span></tt>, and creates
symbolic links to meterological forcing files (<tt class="docutils literal"><span class="pre">fort.22*</span></tt>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>flag</strong> (<em>int</em>) &#8211; flag determining whether or not the subdomain is an
ellipse (0) or a circle (1)</li>
<li><strong>bound_ele</strong> (<em>int</em>) &#8211; a flag determining whether surface elevations of
the boundary nodes of a subdomain are enforced using a boundary
condition file.</li>
<li><strong>bound_vel</strong> (<em>int</em>) &#8211; a flag determining whether velocities of
the boundary nodes of a subdomain are enforced using a boundary
condition file.</li>
<li><strong>bound_wd</strong> (<em>int</em>) &#8211; a flag determining whether wet/dry status of
the boundary nodes of a subdomain are enforced using a boundary
condition file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">command line for invoking gensub.py</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="polysim.run_framework.subdomain.subdomain.update_sub2full_map">
<tt class="descname">update_sub2full_map</tt><big>(</big><big>)</big><a class="headerlink" href="#polysim.run_framework.subdomain.subdomain.update_sub2full_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the subdomain to fulldomain element and node maps</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polysim.run_framework">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-polysim.run_framework" title="Permalink to this headline">¶</a></h2>
<p>This subpackage contains</p>
<ul class="simple">
<li><a class="reference internal" href="#module-polysim.run_framework.domain" title="polysim.run_framework.domain"><tt class="xref py py-class docutils literal"><span class="pre">domain</span></tt></a> a container object for a data specific to a particular
mesh(es), grid(s)</li>
<li><a class="reference internal" href="#module-polysim.run_framework.random_manningsn" title="polysim.run_framework.random_manningsn"><tt class="xref py py-mod docutils literal"><span class="pre">random_manningsn</span></tt></a> a class and associated set of
methods to run a set of ADCIRC simulations with varying parameters</li>
<li><tt class="xref py py-mod docutils literal"><span class="pre">plotADCIRC</span></tt> a set of functions for plotting
simulation outputs</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">polysim.run_framework package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework.adaptive_sampling">polysim.run_framework.adaptive_sampling module</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework.domain">polysim.run_framework.domain module</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework.fulldomain">polysim.run_framework.fulldomain module</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework.random_manningsn">polysim.run_framework.random_manningsn module</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework.random_wall">polysim.run_framework.random_wall module</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework.random_wall_Q">polysim.run_framework.random_wall_Q module</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework.subdomain">polysim.run_framework.subdomain module</a></li>
<li><a class="reference internal" href="#module-polysim.run_framework">Module contents</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/polysim.run_framework.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">PolySim 1.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Lindley Graham.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>